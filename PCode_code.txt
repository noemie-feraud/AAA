IMPORTS
    import psutil
    import socket
    import platform
    import datetime
    import os  // Pour l'analyse de fichiers

VARIABLES
    // CPU, RAM, Système, Processus existants 
    cpu_cores_physical       ← entier
    cpu_cores_logical        ← entier
    cpu_freq_current         ← réel
    cpu_usage_percent        ← réel

    ram_total                ← réel
    ram_used                 ← réel
    ram_usage_percent        ← réel

    hostname                 ← texte
    os_name                  ← texte
    os_version               ← texte
    boot_time_ts             ← nombre
    uptime_seconds           ← nombre
    users_list               ← liste de texte
    users_count              ← entier
    ip_address               ← texte

    processes_list           ← liste de ProcessInfo
    top_cpu_processes        ← liste de ProcessInfo
    top_ram_processes        ← liste de ProcessInfo

    // Analyse de fichiers 
    dossier_a_analyser       ← texte
    extensions_base          ← liste[texte] ← [".txt", ".py", ".pdf", ".jpg"]
    extensions_etendues      ← liste[texte] ← [".txt", ".py", ".pdf", ".jpg", ".csv", ".log", ".md", ".json", ".xml", ".html", ".png"]
    fichiers_par_extension   ← dictionnaire<texte, entier>
    espace_par_extension     ← dictionnaire<texte, réel> // en octets
    pourcentage_par_extension ← dictionnaire<texte, réel>
    fichiers_plus_volumineux ← liste<FichierInfo>

TYPE ProcessInfo :
    pid          ← entier
    name         ← texte
    cpu_percent  ← réel
    ram_percent  ← réel

TYPE FichierInfo :
    path         ← texte
    size         ← réel

FONCTION AnalyserDossier(dossier: texte, extensions: liste[texte]) : RésultatFichiers
    fichiers_par_extension ← dictionnaire vide
    espace_par_extension   ← dictionnaire vide
    fichiers_plus_volumineux ← liste vide

    total_fichiers ← 0

    POUR CHAQUE fichier DANS PARCOURS_RECURSIF(dossier) FAIRE
        ext ← EXTENSION(fichier)
        taille ← TAILLE_FICHIER(fichier)
        total_fichiers ← total_fichiers + 1

        SI ext DANS extensions ALORS
            fichiers_par_extension[ext] ← fichiers_par_extension[ext] + 1 OU 1 SI NON EXISTE
            espace_par_extension[ext] ← espace_par_extension[ext] + taille OU taille SI NON EXISTE
            AJOUTER {path: fichier, size: taille} À fichiers_plus_volumineux
        FIN SI
    FIN POUR

    POUR CHAQUE ext DANS fichiers_par_extension FAIRE
        pourcentage_par_extension[ext] ← (fichiers_par_extension[ext] / total_fichiers) * 100
    FIN POUR

    TRIER fichiers_plus_volumineux PAR size DESC
    fichiers_plus_volumineux ← PRENDRE_TOP_N(fichiers_plus_volumineux, 10)

    RETOURNE {fichiers_par_extension, espace_par_extension, pourcentage_par_extension, fichiers_plus_volumineux}
FIN FONCTION

FONCTION GetSystemSnapshot() : RésultatSnapshot
    // CPU, RAM, Système, Processus existants 
    cpu_cores_physical   ← OBTENIR_NOMBRE_COEURS_PHYSIQUES()
    cpu_cores_logical    ← OBTENIR_NOMBRE_COEURS_LOGIQUES()
    cpu_freq_current     ← OBTENIR_FREQUENCE_CPU_COURANTE()
    cpu_usage_percent    ← MESURER_USAGE_CPU_GLOBAL()

    ram_total            ← OBTENIR_RAM_TOTALE()
    ram_used             ← OBTENIR_RAM_UTILISEE()
    ram_usage_percent    ← CALCULER_POURCENTAGE_RAM_UTILISEE(ram_total, ram_used)

    hostname             ← OBTENIR_NOM_MACHINE()
    os_name              ← OBTENIR_NOM_OS()
    os_version           ← OBTENIR_VERSION_OS()
    boot_time_ts         ← OBTENIR_BOOT_TIME()
    uptime_seconds       ← OBTENIR_TEMPS_PASSEPUIS_BOOT(boot_time_ts)
    users_list           ← OBTENIR_UTILISATEURS_CONNECTES()
    users_count          ← TAILLE(users_list)
    ip_address           ← DETERMINER_IP_PRINCIPALE()

    // Processus 
    processes_list       ← VIDE
    POUR CHAQUE proc DANS LISTE_DES_PROCESSUS_ACTIFS() FAIRE
        info ← NOUVEL ProcessInfo
        info.pid          ← OBTENIR_PID(proc)
        info.name         ← OBTENIR_NOM_PROC(proc)
        info.cpu_percent  ← MESURER_CPU_PROC(proc)
        info.ram_percent  ← MESURER_RAM_PROC(proc)
        AJOUTER info À processes_list
    FIN POUR

    top_cpu_processes ← PRENDRE_TOP_N(processes_list, 3, critere = cpu_percent)
    top_ram_processes ← PRENDRE_TOP_N(processes_list, 3, critere = ram_percent)

    // Analyse fichiers de base 
    resultat_fichiers_base ← AnalyserDossier(dossier_a_analyser, extensions_base)

    // Analyse fichiers avancée 
    resultat_fichiers_avance ← AnalyserDossier(dossier_a_analyser, extensions_etendues)

    // Construction du résultat
    snapshot ← DICTIONNAIRE
    snapshot["cpu"]      ← {cores_physical: cpu_cores_physical, cores_logical: cpu_cores_logical, freq_current: cpu_freq_current, usage_percent: cpu_usage_percent}
    snapshot["memory"]   ← {total: ram_total, used: ram_used, usage_percent: ram_usage_percent}
    snapshot["system"]   ← {hostname: hostname, os: os_name, os_version: os_version, boot_time: boot_time_ts, uptime: uptime_seconds, users_count: users_count, users: users_list, ip: ip_address}
    snapshot["processes"]← processes_list
    snapshot["top_cpu"]  ← top_cpu_processes
    snapshot["top_ram"]  ← top_ram_processes
    snapshot["files_basic"]   ← resultat_fichiers_base
    snapshot["files_advanced"]← resultat_fichiers_avance

    RETOURNE snapshot
FIN FONCTION

DEBUT
    dossier_a_analyser ← "/home/votre_utilisateur/Documents"
    resultat ← GetSystemSnapshot()
    AFFICHER resultat
FIN
